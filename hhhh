<!DOCTYPE html>
<html lang="hi" data-theme="light">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Gram Sahayak AI - рдЧреНрд░рд╛рдо рд╕рд╣рд╛рдпрдХ AI</title>
<link href="https://fonts.googleapis.com/css2?family=Tiro+Devanagari+Hindi:ital@0;1&family=Baloo+2:wght@400;600;700;800&family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">
<style>
:root {
  --bg: #f5f0e8;
  --bg2: #ece6d8;
  --bg3: #fff9ef;
  --card: #fffdf7;
  --border: #c8b99a;
  --text: #2c1f0e;
  --text2: #5c4a2e;
  --text3: #8a7055;
  --accent: #2d7a3a;
  --accent2: #e07b1a;
  --accent3: #c0392b;
  --green: #27ae60;
  --yellow: #f39c12;
  --leaf: #4a8c2a;
  --mud: #8b5e3c;
  --sky: #2980b9;
  --shadow: rgba(44,31,14,0.12);
  --input-bg: #fffef9;
}
[data-theme="dark"] {
  --bg: #0f1a0d;
  --bg2: #152212;
  --bg3: #1a2e18;
  --card: #1f3a1c;
  --border: #2e5c2a;
  --text: #e8f5e3;
  --text2: #a8d4a0;
  --text3: #6fa867;
  --accent: #4caf50;
  --accent2: #ff9800;
  --accent3: #ef5350;
  --green: #66bb6a;
  --yellow: #ffa726;
  --leaf: #7cb342;
  --mud: #a1714e;
  --sky: #42a5f5;
  --shadow: rgba(0,0,0,0.4);
  --input-bg: #162914;
}

* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  font-family: 'Baloo 2', sans-serif;
  background: var(--bg);
  color: var(--text);
  min-height: 100vh;
  transition: background 0.3s, color 0.3s;
  overflow-x: hidden;
}

/* HEADER */
.header {
  background: linear-gradient(135deg, var(--accent) 0%, var(--leaf) 60%, var(--accent2) 100%);
  padding: 0;
  position: sticky;
  top: 0;
  z-index: 100;
  box-shadow: 0 4px 20px var(--shadow);
}
.header-inner {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 12px 20px;
  max-width: 900px;
  margin: 0 auto;
}
.logo-area { display: flex; align-items: center; gap: 12px; }
.logo-icon {
  width: 48px; height: 48px;
  background: rgba(255,255,255,0.2);
  border-radius: 12px;
  display: flex; align-items: center; justify-content: center;
  font-size: 26px;
  border: 2px solid rgba(255,255,255,0.4);
}
.logo-text h1 {
  font-size: 1.2rem;
  font-weight: 800;
  color: #fff;
  line-height: 1.1;
  font-family: 'Baloo 2', sans-serif;
}
.logo-text p {
  font-size: 0.68rem;
  color: rgba(255,255,255,0.85);
  font-family: 'Space Mono', monospace;
}
.header-controls { display: flex; align-items: center; gap: 10px; }
.btn-icon {
  background: rgba(255,255,255,0.2);
  border: 1px solid rgba(255,255,255,0.35);
  color: #fff;
  width: 38px; height: 38px;
  border-radius: 10px;
  cursor: pointer;
  font-size: 16px;
  display: flex; align-items: center; justify-content: center;
  transition: background 0.2s;
}
.btn-icon:hover { background: rgba(255,255,255,0.35); }
.lang-toggle {
  background: rgba(255,255,255,0.2);
  border: 1px solid rgba(255,255,255,0.35);
  color: #fff;
  padding: 6px 14px;
  border-radius: 20px;
  cursor: pointer;
  font-family: 'Baloo 2', sans-serif;
  font-size: 0.8rem;
  font-weight: 700;
  transition: background 0.2s;
}
.lang-toggle:hover { background: rgba(255,255,255,0.35); }

/* STATUS BAR */
.status-bar {
  background: var(--bg2);
  padding: 6px 20px;
  display: flex;
  align-items: center;
  gap: 16px;
  border-bottom: 1px solid var(--border);
  font-size: 0.72rem;
  color: var(--text3);
  font-family: 'Space Mono', monospace;
  overflow-x: auto;
}
.status-item { display: flex; align-items: center; gap: 5px; white-space: nowrap; }
.dot { width: 7px; height: 7px; border-radius: 50%; }
.dot-green { background: #27ae60; animation: pulse 2s infinite; }
.dot-yellow { background: #f39c12; }
.dot-red { background: #c0392b; }
@keyframes pulse { 0%,100%{opacity:1} 50%{opacity:0.4} }

/* TABS */
.tabs {
  display: flex;
  background: var(--bg2);
  border-bottom: 2px solid var(--border);
  overflow-x: auto;
  max-width: 900px;
  margin: 0 auto;
}
.tab {
  padding: 10px 16px;
  cursor: pointer;
  font-size: 0.82rem;
  font-weight: 600;
  color: var(--text3);
  border-bottom: 3px solid transparent;
  white-space: nowrap;
  transition: all 0.2s;
  display: flex; align-items: center; gap: 6px;
}
.tab.active {
  color: var(--accent);
  border-bottom-color: var(--accent);
  background: var(--bg3);
}
.tab:hover { color: var(--accent2); }

/* MAIN CONTENT */
.main { max-width: 900px; margin: 0 auto; padding: 16px; }
.tab-content { display: none; }
.tab-content.active { display: block; }

/* CHAT */
.chat-container {
  display: flex;
  flex-direction: column;
  height: calc(100vh - 200px);
  min-height: 400px;
}
.chat-messages {
  flex: 1;
  overflow-y: auto;
  padding: 12px 0;
  display: flex;
  flex-direction: column;
  gap: 12px;
}
.msg {
  display: flex;
  gap: 10px;
  align-items: flex-start;
  animation: fadeUp 0.3s ease;
}
@keyframes fadeUp { from{opacity:0;transform:translateY(8px)} to{opacity:1;transform:translateY(0)} }
.msg.user { flex-direction: row-reverse; }
.msg-avatar {
  width: 36px; height: 36px;
  border-radius: 10px;
  display: flex; align-items: center; justify-content: center;
  font-size: 18px;
  flex-shrink: 0;
}
.msg.bot .msg-avatar { background: linear-gradient(135deg, var(--accent), var(--leaf)); }
.msg.user .msg-avatar { background: linear-gradient(135deg, var(--accent2), var(--yellow)); }
.msg-bubble {
  max-width: 78%;
  padding: 10px 14px;
  border-radius: 14px;
  font-size: 0.88rem;
  line-height: 1.55;
}
.msg.bot .msg-bubble {
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 4px 14px 14px 14px;
}
.msg.user .msg-bubble {
  background: linear-gradient(135deg, var(--accent), var(--leaf));
  color: #fff;
  border-radius: 14px 4px 14px 14px;
}
.msg-time { font-size: 0.65rem; color: var(--text3); margin-top: 4px; font-family: 'Space Mono', monospace; }
.quick-chips {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin: 10px 0;
}
.chip {
  padding: 6px 12px;
  background: var(--bg2);
  border: 1px solid var(--border);
  border-radius: 20px;
  font-size: 0.78rem;
  cursor: pointer;
  color: var(--text2);
  transition: all 0.2s;
  font-family: 'Baloo 2', sans-serif;
}
.chip:hover {
  background: var(--accent);
  color: #fff;
  border-color: var(--accent);
}
.chat-input-area {
  padding-top: 12px;
  border-top: 1px solid var(--border);
}
.chat-input-row {
  display: flex;
  gap: 8px;
  align-items: flex-end;
}
.chat-input {
  flex: 1;
  padding: 10px 14px;
  background: var(--input-bg);
  border: 1.5px solid var(--border);
  border-radius: 14px;
  font-family: 'Baloo 2', sans-serif;
  font-size: 0.9rem;
  color: var(--text);
  resize: none;
  outline: none;
  transition: border-color 0.2s;
}
.chat-input:focus { border-color: var(--accent); }
.send-btn {
  background: var(--accent);
  color: #fff;
  border: none;
  width: 44px; height: 44px;
  border-radius: 12px;
  cursor: pointer;
  font-size: 18px;
  display: flex; align-items: center; justify-content: center;
  transition: background 0.2s;
}
.send-btn:hover { background: var(--leaf); }
.data-usage {
  font-size: 0.68rem;
  color: var(--text3);
  text-align: center;
  margin-top: 6px;
  font-family: 'Space Mono', monospace;
}

/* WEATHER */
.weather-card {
  background: linear-gradient(135deg, #1a6fa8, #2980b9, #3498db);
  border-radius: 18px;
  padding: 20px;
  color: #fff;
  margin-bottom: 16px;
  position: relative;
  overflow: hidden;
}
.weather-card::before {
  content: '';
  position: absolute;
  top: -30px; right: -30px;
  width: 120px; height: 120px;
  background: rgba(255,255,255,0.08);
  border-radius: 50%;
}
.weather-card::after {
  content: '';
  position: absolute;
  bottom: -20px; left: 20px;
  width: 80px; height: 80px;
  background: rgba(255,255,255,0.05);
  border-radius: 50%;
}
.weather-main { display: flex; align-items: center; justify-content: space-between; margin-bottom: 16px; }
.weather-temp { font-size: 3rem; font-weight: 800; line-height: 1; }
.weather-icon-big { font-size: 3.5rem; }
.weather-desc { font-size: 0.9rem; opacity: 0.9; margin-top: 4px; }
.weather-location { font-size: 1.1rem; font-weight: 700; }
.weather-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 10px;
  border-top: 1px solid rgba(255,255,255,0.2);
  padding-top: 14px;
}
.weather-stat { text-align: center; }
.weather-stat-val { font-size: 1.1rem; font-weight: 700; }
.weather-stat-lbl { font-size: 0.68rem; opacity: 0.8; }
.weather-advice {
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 14px;
  padding: 16px;
  margin-bottom: 12px;
}
.weather-advice h3 { color: var(--accent); margin-bottom: 10px; font-size: 0.95rem; }
.advice-item {
  display: flex; align-items: flex-start; gap: 8px;
  padding: 7px 0;
  border-bottom: 1px dashed var(--border);
  font-size: 0.84rem;
  color: var(--text2);
}
.advice-item:last-child { border-bottom: none; }
.fetch-weather-btn {
  background: var(--sky);
  color: #fff;
  border: none;
  padding: 10px 20px;
  border-radius: 12px;
  cursor: pointer;
  font-family: 'Baloo 2', sans-serif;
  font-size: 0.88rem;
  font-weight: 600;
  width: 100%;
  transition: opacity 0.2s;
  margin-bottom: 16px;
}
.fetch-weather-btn:hover { opacity: 0.85; }

/* CALENDAR */
.calendar-card {
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 18px;
  overflow: hidden;
  margin-bottom: 16px;
}
.calendar-header-row {
  background: linear-gradient(135deg, var(--accent), var(--leaf));
  padding: 16px 20px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  color: #fff;
}
.cal-nav-btn {
  background: rgba(255,255,255,0.2);
  border: none;
  color: #fff;
  width: 32px; height: 32px;
  border-radius: 8px;
  cursor: pointer;
  font-size: 16px;
  transition: background 0.2s;
}
.cal-nav-btn:hover { background: rgba(255,255,255,0.35); }
.cal-month-title { font-size: 1.1rem; font-weight: 700; text-align: center; }
.cal-month-title p { font-size: 0.72rem; opacity: 0.85; }
.cal-grid {
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  gap: 1px;
  background: var(--border);
}
.cal-day-header {
  background: var(--bg2);
  text-align: center;
  padding: 8px 2px;
  font-size: 0.7rem;
  font-weight: 700;
  color: var(--text3);
}
.cal-day {
  background: var(--card);
  text-align: center;
  padding: 8px 2px;
  font-size: 0.82rem;
  cursor: pointer;
  transition: background 0.2s;
  min-height: 50px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start;
  gap: 2px;
}
.cal-day:hover { background: var(--bg2); }
.cal-day.today { background: rgba(45,122,58,0.15); }
.cal-day.today .day-num { background: var(--accent); color: #fff; border-radius: 50%; width: 24px; height: 24px; display: flex; align-items: center; justify-content: center; font-weight: 700; }
.cal-day.empty { background: var(--bg); cursor: default; }
.cal-event-dot { width: 5px; height: 5px; border-radius: 50%; }
.season-badge {
  display: inline-block;
  padding: 3px 10px;
  border-radius: 20px;
  font-size: 0.72rem;
  font-weight: 700;
}
.season-rabi { background: rgba(231,76,60,0.15); color: #c0392b; }
.season-kharif { background: rgba(39,174,96,0.15); color: #27ae60; }
.season-zaid { background: rgba(243,156,18,0.15); color: #e67e22; }

.crop-calendar {
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 14px;
  overflow: hidden;
}
.crop-table { width: 100%; border-collapse: collapse; }
.crop-table th {
  background: var(--bg2);
  padding: 10px 12px;
  text-align: left;
  font-size: 0.8rem;
  font-weight: 700;
  color: var(--text3);
  border-bottom: 1px solid var(--border);
}
.crop-table td {
  padding: 10px 12px;
  border-bottom: 1px solid var(--border);
  font-size: 0.84rem;
  color: var(--text2);
  vertical-align: top;
}
.crop-table tr:last-child td { border-bottom: none; }
.crop-table tr:hover td { background: var(--bg2); }

/* SCHEMES */
.scheme-card {
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 14px;
  margin-bottom: 12px;
  overflow: hidden;
  cursor: pointer;
  transition: box-shadow 0.2s;
}
.scheme-card:hover { box-shadow: 0 4px 16px var(--shadow); }
.scheme-header {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 14px 16px;
}
.scheme-icon {
  width: 44px; height: 44px;
  border-radius: 12px;
  display: flex; align-items: center; justify-content: center;
  font-size: 22px;
  flex-shrink: 0;
}
.scheme-title { flex: 1; }
.scheme-title h3 { font-size: 0.9rem; font-weight: 700; color: var(--text); margin-bottom: 2px; }
.scheme-title p { font-size: 0.75rem; color: var(--text3); }
.scheme-chevron { font-size: 14px; color: var(--text3); transition: transform 0.2s; }
.scheme-card.open .scheme-chevron { transform: rotate(90deg); }
.scheme-body {
  display: none;
  padding: 0 16px 14px;
  border-top: 1px dashed var(--border);
}
.scheme-card.open .scheme-body { display: block; }
.scheme-detail { font-size: 0.82rem; color: var(--text2); line-height: 1.6; padding-top: 10px; }
.scheme-tag {
  display: inline-block;
  padding: 3px 10px;
  border-radius: 20px;
  font-size: 0.72rem;
  font-weight: 600;
  margin-right: 6px;
  margin-top: 6px;
}
.tag-green { background: rgba(39,174,96,0.15); color: #27ae60; }
.tag-blue { background: rgba(41,128,185,0.15); color: #2980b9; }
.tag-orange { background: rgba(224,123,26,0.15); color: #d35400; }

/* OFFLINE KNOWLEDGE */
.knowledge-section { margin-bottom: 20px; }
.knowledge-section h2 {
  font-size: 1rem;
  font-weight: 700;
  color: var(--accent);
  margin-bottom: 12px;
  display: flex;
  align-items: center;
  gap: 8px;
  padding-bottom: 8px;
  border-bottom: 2px solid var(--border);
}
.faq-item {
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 12px;
  margin-bottom: 8px;
  overflow: hidden;
}
.faq-q {
  padding: 12px 14px;
  font-size: 0.86rem;
  font-weight: 600;
  cursor: pointer;
  display: flex;
  justify-content: space-between;
  align-items: center;
  color: var(--text);
}
.faq-q:hover { background: var(--bg2); }
.faq-a {
  display: none;
  padding: 0 14px 12px;
  font-size: 0.82rem;
  color: var(--text2);
  line-height: 1.6;
  border-top: 1px dashed var(--border);
}
.faq-item.open .faq-a { display: block; padding-top: 10px; }
.faq-item.open .faq-chevron { transform: rotate(180deg); }
.faq-chevron { font-size: 12px; transition: transform 0.2s; }

/* ABOUT */
.about-hero {
  background: linear-gradient(135deg, var(--accent), var(--leaf));
  border-radius: 18px;
  padding: 24px;
  color: #fff;
  margin-bottom: 16px;
  text-align: center;
}
.about-hero h2 { font-size: 1.4rem; font-weight: 800; margin-bottom: 6px; }
.about-hero p { opacity: 0.9; font-size: 0.88rem; line-height: 1.6; }
.feature-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 12px;
  margin-bottom: 16px;
}
.feature-card {
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 14px;
  padding: 14px;
  text-align: center;
}
.feature-icon { font-size: 2rem; margin-bottom: 8px; }
.feature-card h4 { font-size: 0.82rem; font-weight: 700; color: var(--text); margin-bottom: 4px; }
.feature-card p { font-size: 0.75rem; color: var(--text3); line-height: 1.4; }
.bandwidth-bar {
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 14px;
  padding: 16px;
  margin-bottom: 16px;
}
.bandwidth-bar h3 { font-size: 0.9rem; font-weight: 700; color: var(--text); margin-bottom: 14px; }
.bw-row { margin-bottom: 12px; }
.bw-label { font-size: 0.78rem; color: var(--text3); margin-bottom: 4px; display: flex; justify-content: space-between; }
.bw-track { background: var(--bg2); border-radius: 8px; height: 10px; overflow: hidden; }
.bw-fill { height: 100%; border-radius: 8px; }
.bw-high { background: linear-gradient(90deg, #c0392b, #e74c3c); width: 100%; }
.bw-low { background: linear-gradient(90deg, var(--accent), var(--leaf)); width: 30%; }

/* Scrollbar */
::-webkit-scrollbar { width: 6px; height: 6px; }
::-webkit-scrollbar-track { background: var(--bg2); }
::-webkit-scrollbar-thumb { background: var(--border); border-radius: 3px; }

/* Section title */
.section-title {
  font-size: 1rem;
  font-weight: 700;
  color: var(--text);
  margin-bottom: 12px;
  display: flex;
  align-items: center;
  gap: 8px;
}

/* Toast */
.toast {
  position: fixed;
  bottom: 20px;
  right: 20px;
  background: var(--accent);
  color: #fff;
  padding: 10px 18px;
  border-radius: 12px;
  font-size: 0.84rem;
  font-weight: 600;
  z-index: 999;
  opacity: 0;
  transform: translateY(20px);
  transition: all 0.3s;
}
.toast.show { opacity: 1; transform: translateY(0); }

/* Typing */
.typing-dots span {
  display: inline-block;
  width: 7px; height: 7px;
  background: var(--text3);
  border-radius: 50%;
  margin: 0 2px;
  animation: bounce 1.2s infinite;
}
.typing-dots span:nth-child(2) { animation-delay: 0.2s; }
.typing-dots span:nth-child(3) { animation-delay: 0.4s; }
@keyframes bounce { 0%,60%,100%{transform:translateY(0)} 30%{transform:translateY(-6px)} }

@media(max-width:600px) {
  .feature-grid { grid-template-columns: 1fr; }
  .weather-grid { grid-template-columns: repeat(3,1fr); }
}
</style>
</head>
<body>

<!-- HEADER -->
<div class="header">
  <div class="header-inner">
    <div class="logo-area">
      <div class="logo-icon">ЁЯМ╛</div>
      <div class="logo-text">
        <h1 id="logo-title">Gram Sahayak AI</h1>
        <p id="logo-sub">рдЧреНрд░рд╛рдо рд╕рд╣рд╛рдпрдХ тАв Rural AI Assistant</p>
      </div>
    </div>
    <div class="header-controls">
      <button class="lang-toggle" onclick="toggleLang()" id="langBtn">рд╣рд┐рдВ/EN</button>
      <button class="btn-icon" onclick="toggleTheme()" id="themeBtn" title="Dark Mode">ЁЯМЩ</button>
    </div>
  </div>
</div>

<!-- STATUS BAR -->
<div class="status-bar">
  <div class="status-item"><div class="dot dot-green"></div><span id="status-offline">Offline Mode Active</span></div>
  <div class="status-item"><div class="dot dot-yellow"></div><span id="status-cache">Cache: 128KB</span></div>
  <div class="status-item"><div class="dot dot-green"></div><span id="status-data">Data saved: 64%</span></div>
  <div class="status-item">ЁЯУ╢ <span id="status-net">Low-BW Mode</span></div>
</div>

<!-- TABS -->
<div style="background:var(--bg2);border-bottom:2px solid var(--border);">
<div class="tabs" id="tabs">
  <div class="tab active" onclick="showTab('chat',this)">ЁЯТм <span class="tab-lbl" data-hi="рд╕рд╣рд╛рдпрдХ" data-en="Assistant">рд╕рд╣рд╛рдпрдХ</span></div>
  <div class="tab" onclick="showTab('weather',this)">ЁЯМдя╕П <span class="tab-lbl" data-hi="рдореМрд╕рдо" data-en="Weather">рдореМрд╕рдо</span></div>
  <div class="tab" onclick="showTab('calendar',this)">ЁЯУЕ <span class="tab-lbl" data-hi="рдХреИрд▓реЗрдВрдбрд░" data-en="Calendar">рдХреИрд▓реЗрдВрдбрд░</span></div>
  <div class="tab" onclick="showTab('schemes',this)">ЁЯПЫя╕П <span class="tab-lbl" data-hi="рдпреЛрдЬрдирд╛рдПрдВ" data-en="Schemes">рдпреЛрдЬрдирд╛рдПрдВ</span></div>
  <div class="tab" onclick="showTab('knowledge',this)">ЁЯУЪ <span class="tab-lbl" data-hi="рдЬреНрдЮрд╛рди" data-en="Knowledge">рдЬреНрдЮрд╛рди</span></div>
  <div class="tab" onclick="showTab('about',this)">тД╣я╕П <span class="tab-lbl" data-hi="рдкрд░рд┐рдЪрдп" data-en="About">рдкрд░рд┐рдЪрдп</span></div>
</div>
</div>

<div class="main">

<!-- CHAT TAB -->
<div class="tab-content active" id="tab-chat">
  <div class="chat-container">
    <div class="chat-messages" id="chatMessages">
      <div class="msg bot">
        <div class="msg-avatar">ЁЯМ╛</div>
        <div>
          <div class="msg-bubble" id="welcome-msg">
            ЁЯЩП <strong>рдирдорд╕реНрддреЗ! рдореИрдВ рдЧреНрд░рд╛рдо рд╕рд╣рд╛рдпрдХ AI рд╣реВрдБред</strong><br><br>
            рдореИрдВ рдЖрдкрдХреА рдорджрдж рдХрд░ рд╕рдХрддрд╛ рд╣реВрдБ:<br>
            ЁЯМ╛ рдлрд╕рд▓ рдФрд░ рдЦреЗрддреА рдХреА рдЬрд╛рдирдХрд╛рд░реА<br>
            ЁЯПЫя╕П рд╕рд░рдХрд╛рд░реА рдпреЛрдЬрдирд╛рдПрдВ<br>
            ЁЯМдя╕П рдореМрд╕рдо рдХреА рд╕рд▓рд╛рд╣<br>
            ЁЯТК рдкрд╢реБрдкрд╛рд▓рди рд╕рд╣рд╛рдпрддрд╛<br><br>
            <em>I work offline & save your data! Ask me anything.</em>
          </div>
          <div class="msg-time">рдЕрднреА тАв Now</div>
          <div class="quick-chips" id="quickChips">
            <div class="chip" onclick="sendChip(this)">ЁЯМ╛ рдЧреЗрд╣реВрдВ рдХреА рдмреБрдЖрдИ</div>
            <div class="chip" onclick="sendChip(this)">ЁЯТК PM-KISAN рдЬрд╛рдирдХрд╛рд░реА</div>
            <div class="chip" onclick="sendChip(this)">ЁЯМзя╕П рдореМрд╕рдо рд╕рд▓рд╛рд╣</div>
            <div class="chip" onclick="sendChip(this)">ЁЯРД рдкрд╢реБрдкрд╛рд▓рди</div>
            <div class="chip" onclick="sendChip(this)">Wheat sowing tips</div>
            <div class="chip" onclick="sendChip(this)">Crop insurance</div>
          </div>
        </div>
      </div>
    </div>
    <div class="chat-input-area">
      <div class="chat-input-row">
        <textarea class="chat-input" id="chatInput" placeholder="рдЕрдкрдирд╛ рд╕рд╡рд╛рд▓ рдкреВрдЫреЗрдВ... / Ask your question..." rows="2" onkeydown="handleKey(event)"></textarea>
        <button class="send-btn" onclick="sendMessage()">тЮд</button>
      </div>
      <div class="data-usage" id="dataUsage">ЁЯУК Data used this session: <span id="dataCounter">0.2KB</span> | Cached responses: <span id="cacheHits">0</span></div>
    </div>
  </div>
</div>

<!-- WEATHER TAB -->
<div class="tab-content" id="tab-weather">
  <button class="fetch-weather-btn" onclick="fetchWeather()">ЁЯУН <span id="weather-btn-text">рдЕрдкрдирд╛ рдореМрд╕рдо рджреЗрдЦреЗрдВ / Get My Weather</span></button>
  
  <div id="weatherDisplay" style="display:none">
    <div class="weather-card" id="weatherCard">
      <div class="weather-main">
        <div>
          <div class="weather-location" id="wLocation">Lucknow, UP</div>
          <div class="weather-temp" id="wTemp">28┬░C</div>
          <div class="weather-desc" id="wDesc">рдЖрдВрд╢рд┐рдХ рдмрд╛рджрд▓ / Partly Cloudy</div>
        </div>
        <div class="weather-icon-big" id="wIcon">тЫЕ</div>
      </div>
      <div class="weather-grid">
        <div class="weather-stat">
          <div class="weather-stat-val" id="wHumidity">65%</div>
          <div class="weather-stat-lbl">рдирдореА / Humidity</div>
        </div>
        <div class="weather-stat">
          <div class="weather-stat-val" id="wWind">12 km/h</div>
          <div class="weather-stat-lbl">рд╣рд╡рд╛ / Wind</div>
        </div>
        <div class="weather-stat">
          <div class="weather-stat-val" id="wUV">5</div>
          <div class="weather-stat-lbl">UV Index</div>
        </div>
      </div>
    </div>

    <div class="weather-advice">
      <h3>ЁЯМ╛ <span id="farming-advice-title">рдЖрдЬ рдХреА рдЦреЗрддреА рд╕рд▓рд╛рд╣ / Today's Farming Advice</span></h3>
      <div id="farmingAdvice"></div>
    </div>
  </div>

  <div class="weather-advice">
    <h3>ЁЯУЕ рдореМрд╕рдо рдЖрдзрд╛рд░рд┐рдд рдХреГрд╖рд┐ рдЧрд╛рдЗрдб / Seasonal Farming Guide</h3>
    <div class="advice-item">ЁЯМбя╕П <strong>30┬░C+:</strong> рд╕рд┐рдВрдЪрд╛рдИ рдмрдврд╝рд╛рдПрдВ, рджреЛрдкрд╣рд░ рдореЗрдВ рдХрд╛рдо рди рдХрд░реЗрдВ / Increase irrigation, avoid afternoon work</div>
    <div class="advice-item">ЁЯМзя╕П <strong>рдмрд╛рд░рд┐рд╢:</strong> рдХреАрдЯрдирд╛рд╢рдХ рд╕реНрдкреНрд░реЗ рдмрдВрдж рд░рдЦреЗрдВ / Stop pesticide spray during rain</div>
    <div class="advice-item">тЭДя╕П <strong>рдкрд╛рд▓рд╛:</strong> рдлрд╕рд▓реЛрдВ рдХреЛ рдврдХреЗрдВ, рд░рд╛рдд рдХреЛ рд╕рд┐рдВрдЪрд╛рдИ рдХрд░реЗрдВ / Cover crops, irrigate at night</div>
    <div class="advice-item">ЁЯТи <strong>рддреЗрдЬ рд╣рд╡рд╛:</strong> рдЫрд┐рдбрд╝рдХрд╛рд╡ рди рдХрд░реЗрдВ / Avoid spraying in strong winds</div>
    <div class="advice-item">тШАя╕П <strong>рдзреВрдк:</strong> рдЦрд╛рдж рдХрд╛ рдкреНрд░рдпреЛрдЧ рдХрд░реЗрдВ / Apply fertilizers in sunshine</div>
  </div>
</div>

<!-- CALENDAR TAB -->
<div class="tab-content" id="tab-calendar">
  <div class="calendar-card">
    <div class="calendar-header-row">
      <button class="cal-nav-btn" onclick="changeMonth(-1)">тЧА</button>
      <div>
        <div class="cal-month-title" id="calMonthHi"></div>
        <div class="cal-month-title" id="calMonthEn" style="font-size:0.78rem;opacity:0.85"></div>
      </div>
      <button class="cal-nav-btn" onclick="changeMonth(1)">тЦ╢</button>
    </div>
    <div class="cal-grid" id="calGrid"></div>
  </div>

  <div class="section-title">ЁЯМ╛ рдлрд╕рд▓ рдХреИрд▓реЗрдВрдбрд░ / Crop Calendar</div>
  
  <div style="display:flex;gap:8px;flex-wrap:wrap;margin-bottom:12px;">
    <span class="season-badge season-rabi">рд░рдмреА Rabi (Oct-Mar)</span>
    <span class="season-badge season-kharif">рдЦрд░реАрдл Kharif (Jun-Oct)</span>
    <span class="season-badge season-zaid">рдЬрд╛рдпрдж Zaid (Mar-Jun)</span>
  </div>

  <div class="crop-calendar">
    <table class="crop-table">
      <thead>
        <tr>
          <th>рдорд╛рд╣ / Month</th>
          <th>рд╕реАрдЬрди / Season</th>
          <th>рдЧрддрд┐рд╡рд┐рдзрд┐ / Activity</th>
          <th>рдлрд╕рд▓ / Crops</th>
        </tr>
      </thead>
      <tbody>
        <tr><td>рдЕрдХреНрдЯреВрдмрд░<br><small>October</small></td><td><span class="season-badge season-rabi">рд░рдмреА</span></td><td>рдмреБрдЖрдИ / Sowing</td><td>ЁЯМ╛ рдЧреЗрд╣реВрдВ, ЁЯМ╗ рд╕рд░рд╕реЛрдВ</td></tr>
        <tr><td>рдирд╡рдВрдмрд░<br><small>November</small></td><td><span class="season-badge season-rabi">рд░рдмреА</span></td><td>рд╕рд┐рдВрдЪрд╛рдИ, рдЦрд╛рдж / Irrigation, Fertilizer</td><td>ЁЯМ╛ рдЧреЗрд╣реВрдВ, ЁЯМ╗ рд╕рд░рд╕реЛрдВ</td></tr>
        <tr><td>рджрд┐рд╕рдВрдмрд░<br><small>December</small></td><td><span class="season-badge season-rabi">рд░рдмреА</span></td><td>рдЦрд░рдкрддрд╡рд╛рд░ рдирд┐рдпрдВрддреНрд░рдг / Weed control</td><td>ЁЯМ╛ рдЧреЗрд╣реВрдВ, ЁЯеФ рдЖрд▓реВ</td></tr>
        <tr><td>рдЬрдирд╡рд░реА<br><small>January</small></td><td><span class="season-badge season-rabi">рд░рдмреА</span></td><td>рд░реЛрдЧ рдирд┐рдпрдВрддреНрд░рдг / Disease control</td><td>ЁЯМ╛ рдЧреЗрд╣реВрдВ, ЁЯЯв рдордЯрд░</td></tr>
        <tr><td>рдлрд░рд╡рд░реА<br><small>February</small></td><td><span class="season-badge season-rabi">рд░рдмреА</span></td><td>рдХрдЯрд╛рдИ / Harvesting</td><td>ЁЯМ╗ рд╕рд░рд╕реЛрдВ</td></tr>
        <tr><td>рдорд╛рд░реНрдЪ<br><small>March</small></td><td><span class="season-badge season-rabi">рд░рдмреА</span></td><td>рдХрдЯрд╛рдИ / Harvesting</td><td>ЁЯМ╛ рдЧреЗрд╣реВрдВ</td></tr>
        <tr><td>рдЕрдкреНрд░реИрд▓<br><small>April</small></td><td><span class="season-badge season-zaid">рдЬрд╛рдпрдж</span></td><td>рд╕рдмреНрдЬреА рдЦреЗрддреА / Vegetables</td><td>ЁЯеТ рдЦреАрд░рд╛, ЁЯНЙ рддрд░рдмреВрдЬ</td></tr>
        <tr><td>рдордИ<br><small>May</small></td><td><span class="season-badge season-zaid">рдЬрд╛рдпрдж</span></td><td>рд╕рд┐рдВрдЪрд╛рдИ, рдХрдЯрд╛рдИ / Irrigation, Harvest</td><td>ЁЯНЙ рддрд░рдмреВрдЬ</td></tr>
        <tr><td>рдЬреВрди<br><small>June</small></td><td><span class="season-badge season-kharif">рдЦрд░реАрдл</span></td><td>рднреВрдорд┐ рддреИрдпрд╛рд░реА, рдирд░реНрд╕рд░реА / Land prep, Nursery</td><td>ЁЯМ╛ рдзрд╛рди</td></tr>
        <tr><td>рдЬреБрд▓рд╛рдИ<br><small>July</small></td><td><span class="season-badge season-kharif">рдЦрд░реАрдл</span></td><td>рд░реЛрдкрд╛рдИ / Transplantation</td><td>ЁЯМ╛ рдзрд╛рди, ЁЯМ╜ рдордХреНрдХрд╛</td></tr>
        <tr><td>рдЕрдЧрд╕реНрдд<br><small>August</small></td><td><span class="season-badge season-kharif">рдЦрд░реАрдл</span></td><td>рдЦрд╛рдж, рдЦрд░рдкрддрд╡рд╛рд░ / Fertilizer, Weed</td><td>ЁЯМ╛ рдзрд╛рди, ЁЯлШ рдЕрд░рд╣рд░</td></tr>
        <tr><td>рд╕рд┐рддрдВрдмрд░<br><small>September</small></td><td><span class="season-badge season-kharif">рдЦрд░реАрдл</span></td><td>рдХреАрдЯ рдкреНрд░рдмрдВрдзрди / Pest management</td><td>ЁЯМ╛ рдзрд╛рди, ЁЯеЬ рдореВрдВрдЧрдлрд▓реА</td></tr>
      </tbody>
    </table>
  </div>
</div>

<!-- SCHEMES TAB -->
<div class="tab-content" id="tab-schemes">
  <div class="section-title">ЁЯПЫя╕П рд╕рд░рдХрд╛рд░реА рдпреЛрдЬрдирд╛рдПрдВ / Government Schemes</div>
  <div id="schemesContainer"></div>
</div>

<!-- KNOWLEDGE TAB -->
<div class="tab-content" id="tab-knowledge">
  <div class="knowledge-section">
    <h2>ЁЯМ╛ рдЦреЗрддреА рдХреА рдЬрд╛рдирдХрд╛рд░реА / Farming Knowledge</h2>
    <div id="farmingFAQ"></div>
  </div>
  <div class="knowledge-section">
    <h2>ЁЯРД рдкрд╢реБрдкрд╛рд▓рди / Animal Husbandry</h2>
    <div id="animalFAQ"></div>
  </div>
  <div class="knowledge-section">
    <h2>ЁЯЪС рдЖрдкрд╛рддрдХрд╛рд▓ рд╕рдВрдкрд░реНрдХ / Emergency Contacts</h2>
    <div style="background:var(--card);border:1px solid var(--border);border-radius:14px;padding:14px;">
      <div class="advice-item">ЁЯУЮ <strong>Kisan Call Center:</strong> 1800-180-1551 (Free)</div>
      <div class="advice-item">ЁЯУЮ <strong>PM-KISAN Helpline:</strong> 155261</div>
      <div class="advice-item">ЁЯУЮ <strong>Crop Insurance:</strong> 1800-200-7710</div>
      <div class="advice-item">ЁЯУЮ <strong>Soil Health:</strong> 1800-180-1551</div>
      <div class="advice-item">ЁЯМР <strong>PM-KISAN Portal:</strong> pmkisan.gov.in</div>
      <div class="advice-item">ЁЯМР <strong>e-NAM:</strong> enam.gov.in</div>
    </div>
  </div>
</div>

<!-- ABOUT TAB -->
<div class="tab-content" id="tab-about">
  <div class="about-hero">
    <div style="font-size:3rem;margin-bottom:8px;">ЁЯМ╛</div>
    <h2>Gram Sahayak AI</h2>
    <p>рдЧреНрд░рд╛рдо рд╕рд╣рд╛рдпрдХ AI тАФ рднрд╛рд░рдд рдХреЗ рдХрд┐рд╕рд╛рдиреЛрдВ рдХреЗ рд▓рд┐рдП рдкрд╣рд▓рд╛ рдХрдо-рдмреИрдВрдбрд╡рд┐рдбреНрде AI рд╕рд╣рд╛рдпрдХ</p>
    <p style="margin-top:8px;font-size:0.8rem;">India's first Low-Bandwidth AI Assistant built for Rural Farmers</p>
  </div>

  <div class="bandwidth-bar">
    <h3>ЁЯУК Bandwidth Comparison</h3>
    <div class="bw-row">
      <div class="bw-label"><span>Traditional AI Assistant</span><span style="color:#c0392b">100% data usage</span></div>
      <div class="bw-track"><div class="bw-fill bw-high"></div></div>
    </div>
    <div class="bw-row">
      <div class="bw-label"><span>Gram Sahayak AI</span><span style="color:var(--accent)">~30% data usage (70% saved!)</span></div>
      <div class="bw-track"><div class="bw-fill bw-low"></div></div>
    </div>
  </div>

  <div class="feature-grid">
    <div class="feature-card">
      <div class="feature-icon">ЁЯУ╡</div>
      <h4>Offline-First</h4>
      <p>Works without internet using built-in knowledge base</p>
    </div>
    <div class="feature-card">
      <div class="feature-icon">ЁЯТ╛</div>
      <h4>Smart Caching</h4>
      <p>Saves responses locally, avoids re-fetching data</p>
    </div>
    <div class="feature-card">
      <div class="feature-icon">ЁЯУ╢</div>
      <h4>2G Compatible</h4>
      <p>Minimal text queries, compressed data transfer</p>
    </div>
    <div class="feature-card">
      <div class="feature-icon">ЁЯМР</div>
      <h4>Bilingual</h4>
      <p>Full Hindi & English support for all farmers</p>
    </div>
    <div class="feature-card">
      <div class="feature-icon">ЁЯМ╛</div>
      <h4>Agri Knowledge</h4>
      <p>ICAR-based farming guide for North India / UP</p>
    </div>
    <div class="feature-card">
      <div class="feature-icon">ЁЯПЫя╕П</div>
      <h4>18 Gov Schemes</h4>
      <p>All major farmer government schemes offline</p>
    </div>
  </div>

  <div class="weather-advice">
    <h3>ЁЯОп Problem We Solve</h3>
    <div class="advice-item">тЭМ Rural areas have 2G/weak 3G connectivity</div>
    <div class="advice-item">тЭМ Expensive mobile data plans</div>
    <div class="advice-item">тЭМ Low-end smartphones with limited power</div>
    <div class="advice-item">тЬЕ Gram Sahayak reduces internet use by 60-70%</div>
    <div class="advice-item">тЬЕ Works locally with offline knowledge base</div>
    <div class="advice-item">тЬЕ Scalable for Smart Village initiatives</div>
  </div>
</div>

</div><!-- /main -->

<div class="toast" id="toast"></div>

<script>
// ========================
// STATE
// ========================
let currentLang = 'hi';
let isDark = false;
let calYear = new Date().getFullYear();
let calMonth = new Date().getMonth();
let dataBytes = 200;
let cacheHits = 0;
const responseCache = {};

// ========================
// OFFLINE KNOWLEDGE BASE
// ========================
const knowledgeBase = {
  // Crop keywords -> answers
  'рдЧреЗрд╣реВрдВ': { hi: 'ЁЯМ╛ рдЧреЗрд╣реВрдВ рдХреА рдмреБрдЖрдИ:\nтАв рд╕рдордп: рдЕрдХреНрдЯреВрдмрд░-рдирд╡рдВрдмрд░\nтАв рджреВрд░реА: рдХрддрд╛рд░ рд╕реЗ рдХрддрд╛рд░ 20-22 cm\nтАв рдмреАрдЬ: 100-125 kg/рд╣реЗрдХреНрдЯреЗрдпрд░\nтАв рдЙрд░реНрд╡рд░рдХ: DAP 50kg + рдпреВрд░рд┐рдпрд╛ 130kg/рд╣реЗрдХреНрдЯреЗрдпрд░\nтАв рд╕рд┐рдВрдЪрд╛рдИ: рдмреБрдЖрдИ рдХреЗ 20-25 рджрд┐рди рдмрд╛рдж\nтАв рдХрд┐рд╕реНрдореЗрдВ: HD-2967, PBW-343, K-307', en: 'ЁЯМ╛ Wheat Sowing:\nтАв Time: October-November\nтАв Spacing: Row to row 20-22 cm\nтАв Seed: 100-125 kg/hectare\nтАв Fertilizer: DAP 50kg + Urea 130kg/hectare\nтАв Irrigation: 20-25 days after sowing\nтАв Varieties: HD-2967, PBW-343, K-307' },
  'wheat': { en: 'ЁЯМ╛ Wheat Sowing Tips:\nтАв Best time: Oct-Nov in North India\nтАв Seed rate: 100-125 kg/ha\nтАв Row spacing: 20-22 cm\nтАв Fertilizer: NPK 120:60:40 kg/ha\nтАв Irrigation: Crown root initiation stage is critical\nтАв Diseases: Watch for rust - use Propiconazole spray', hi: 'ЁЯМ╛ рдЧреЗрд╣реВрдВ рдХреА рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рд▓рд┐рдП "рдЧреЗрд╣реВрдВ" рдЯрд╛рдЗрдк рдХрд░реЗрдВред' },
  'рдзрд╛рди': { hi: 'ЁЯМ╛ рдзрд╛рди рдХреА рдЦреЗрддреА:\nтАв рдирд░реНрд╕рд░реА: рдЬреВрди рдореЗрдВ\nтАв рд░реЛрдкрд╛рдИ: рдЬреБрд▓рд╛рдИ рдореЗрдВ\nтАв рджреВрд░реА: 20x15 cm\nтАв рдмреАрдЬ: 20-25 kg/рд╣реЗрдХреНрдЯреЗрдпрд░\nтАв рдЦрд╛рдж: DAP 100kg + рдпреВрд░рд┐рдпрд╛ 200kg\nтАв рдкрд╛рдиреА: 5 cm рдЦрдбрд╝рд╛ рд░рдЦреЗрдВ\nтАв рдХрд┐рд╕реНрдореЗрдВ: рдкреВрд╕рд╛ рдмрд╛рд╕рдорддреА-1121, MTU-7029', en: 'ЁЯМ╛ Paddy cultivation details in Hindi' },
  'paddy': { en: 'ЁЯМ╛ Paddy Cultivation:\nтАв Nursery: June\nтАв Transplanting: July\nтАв Spacing: 20x15 cm\nтАв Seed: 20-25 kg/ha\nтАв Fertilizer: NPK 100:50:50\nтАв Water: Maintain 5cm standing water\nтАв Varieties: Pusa Basmati-1121, MTU-7029', hi: 'ЁЯМ╛ рдзрд╛рди рдХреА рдЬрд╛рдирдХрд╛рд░реА' },
  'pm-kisan': { hi: 'ЁЯТ░ PM-KISAN рдпреЛрдЬрдирд╛:\nтАв рд▓рд╛рдн: тВ╣6,000 рдкреНрд░рддрд┐ рд╡рд░реНрд╖\nтАв 3 рдХрд┐рд╕реНрддреЛрдВ рдореЗрдВ: тВ╣2,000-тВ╣2,000-тВ╣2,000\nтАв DBT рджреНрд╡рд╛рд░рд╛ рд╕реАрдзреЗ рдмреИрдВрдХ рдЦрд╛рддреЗ рдореЗрдВ\nтАв рдкрд╛рддреНрд░рддрд╛: рд╕рднреА рдкрд╛рддреНрд░ рднреВрдзрд╛рд░рдХ рдХрд┐рд╕рд╛рди\nтАв рдЖрд╡реЗрджрди: pmkisan.gov.in рдпрд╛ CSC рдХреЗрдВрджреНрд░\nтАв рд╣реЗрд▓реНрдкрд▓рд╛рдЗрди: 155261', en: 'ЁЯТ░ PM-KISAN Scheme:\nтАв Benefit: тВ╣6,000/year in 3 installments\nтАв Direct Bank Transfer (DBT)\nтАв Eligibility: All eligible landholding farmers\nтАв Apply: pmkisan.gov.in or CSC center\nтАв Helpline: 155261' },
  'kisan': { hi: 'ЁЯТ░ PM-KISAN: тВ╣6,000 рд╕рд╛рд▓рд╛рдирд╛, 3 рдХрд┐рд╕реНрддреЛрдВ рдореЗрдВред pmkisan.gov.in рдкрд░ рдЖрд╡реЗрджрди рдХрд░реЗрдВред', en: 'ЁЯТ░ PM-KISAN: тВ╣6,000/year in 3 installments. Apply at pmkisan.gov.in' },
  'fasal bima': { hi: 'ЁЯМ╛ PM рдлрд╕рд▓ рдмреАрдорд╛ рдпреЛрдЬрдирд╛:\nтАв рдЦрд░реАрдл рдкреНрд░реАрдорд┐рдпрдо: 2%\nтАв рд░рдмреА рдкреНрд░реАрдорд┐рдпрдо: 1.5%\nтАв рдХрд╡рд░реЗрдЬ: рдмрд╛рдврд╝, рд╕реВрдЦрд╛, рдЪрдХреНрд░рд╡рд╛рдд, рдХреАрдЯ\nтАв рдЖрд╡реЗрджрди: рдмреИрдВрдХ/рдмреАрдорд╛ рдХрдВрдкрдиреА\nтАв рд╣реЗрд▓реНрдкрд▓рд╛рдЗрди: 1800-200-7710', en: 'ЁЯМ╛ Crop Insurance (PMFBY):\nтАв Kharif premium: 2%\nтАв Rabi premium: 1.5%\nтАв Coverage: Flood, drought, cyclone, pests\nтАв Apply through your bank\nтАв Helpline: 1800-200-7710' },
  'insurance': { en: 'ЁЯМ╛ Pradhan Mantri Fasal Bima Yojana (PMFBY):\nтАв Kharif crops: 2% premium\nтАв Rabi crops: 1.5% premium\nтАв Coverage: Natural disasters, pest attacks\nтАв Claims processed through banks\nтАв Helpline: 1800-200-7710', hi: 'ЁЯМ╛ рдлрд╕рд▓ рдмреАрдорд╛ рдХреА рдЬрд╛рдирдХрд╛рд░реА рджреЗрдЦреЗрдВред' },
  'рд╕рд░рд╕реЛрдВ': { hi: 'ЁЯМ╗ рд╕рд░рд╕реЛрдВ рдХреА рдЦреЗрддреА:\nтАв рдмреБрдЖрдИ: рдЕрдХреНрдЯреВрдмрд░\nтАв рджреВрд░реА: 45x15 cm\nтАв рдмреАрдЬ: 5-6 kg/рд╣реЗрдХреНрдЯреЗрдпрд░\nтАв рдЦрд╛рдж: DAP 50kg + рдпреВрд░рд┐рдпрд╛ 65kg\nтАв рдХрдЯрд╛рдИ: рдлрд░рд╡рд░реА\nтАв рдЙрдкрдЬ: 15-20 рдХреНрд╡рд┐рдВрдЯрд▓/рд╣реЗрдХреНрдЯреЗрдпрд░', en: 'Mustard cultivation info in Hindi above.' },
  'mustard': { en: 'ЁЯМ╗ Mustard Cultivation:\nтАв Sowing: October\nтАв Spacing: 45x15 cm\nтАв Seed: 5-6 kg/ha\nтАв Fertilizer: DAP 50kg + Urea 65kg\nтАв Harvest: February\nтАв Yield: 15-20 quintals/ha', hi: 'ЁЯМ╗ рд╕рд░рд╕реЛрдВ рдХреА рдЬрд╛рдирдХрд╛рд░реА' },
  'рдореМрд╕рдо': { hi: 'ЁЯМдя╕П рдореМрд╕рдо рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рд▓рд┐рдП рдореМрд╕рдо рдЯреИрдм рдкрд░ рдЬрд╛рдПрдВред рд╡рд░реНрддрдорд╛рди рдореЗрдВ:\nтАв рдЙрддреНрддрд░ рдкреНрд░рджреЗрд╢ рдореЗрдВ рд╕рд░реНрджреА рдХрд╛ рдореМрд╕рдо\nтАв рдиреНрдпреВрдирддрдо рддрд╛рдкрдорд╛рди: 8-12┬░C\nтАв рдлрд░рд╡рд░реА: рдЧреЗрд╣реВрдВ рдХреЗ рд▓рд┐рдП рдЕрдЪреНрдЫрд╛ рд╕рдордп\nтАв рд╕рд┐рдВрдЪрд╛рдИ: рд╣рд░ 15-20 рджрд┐рди рдкрд░ рдХрд░реЗрдВ', en: 'ЁЯМдя╕П Check Weather tab for live weather. General UP weather:\nтАв February: Cool winter ending\nтАв Ideal for wheat grain filling\nтАв Irrigate every 15-20 days\nтАв Watch for powdery mildew' },
  'рдкрд╢реБ': { hi: 'ЁЯРД рдкрд╢реБрдкрд╛рд▓рди рд╕реБрдЭрд╛рд╡:\nтАв рджреВрдз рдЙрддреНрдкрд╛рджрди рдмрдврд╝рд╛рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рдВрддреБрд▓рд┐рдд рдЖрд╣рд╛рд░ рджреЗрдВ\nтАв рдЯреАрдХрд╛рдХрд░рдг рд╕рдордп рдкрд░ рдХрд░рд╡рд╛рдПрдВ\nтАв рд╕рд╛рдл рдкрд╛рдиреА рд╣рд░ рд╕рдордп рдЙрдкрд▓рдмреНрдз рд░рдЦреЗрдВ\nтАв KCC рд╕реЗ рдкрд╢реБрдкрд╛рд▓рди рдЛрдг рд▓реЗ рд╕рдХрддреЗ рд╣реИрдВ\nтАв National Livestock Mission: рд╕рдмреНрд╕рд┐рдбреА рдЙрдкрд▓рдмреНрдз', en: 'ЁЯРД Animal Husbandry tips in Hindi above.' },
  'animal': { en: 'ЁЯРД Animal Husbandry:\nтАв Balanced diet boosts milk production\nтАв Timely vaccination is essential\nтАв Clean water access at all times\nтАв KCC covers dairy & fisheries too\nтАв National Livestock Mission: Subsidies available for shed, breed improvement', hi: 'ЁЯРД рдкрд╢реБрдкрд╛рд▓рди рдЬрд╛рдирдХрд╛рд░реА' },
  'kcc': { hi: 'ЁЯТ│ рдХрд┐рд╕рд╛рди рдХреНрд░реЗрдбрд┐рдЯ рдХрд╛рд░реНрдб:\nтАв рдЙрджреНрджреЗрд╢реНрдп: рдЕрд▓реНрдкрдХрд╛рд▓рд┐рдХ рдлрд╕рд▓ рдЛрдг\nтАв рдмреНрдпрд╛рдЬ рджрд░: 7% (рд╕рдмреНрд╕рд┐рдбреА рдХреЗ рд╕рд╛рде 4%)\nтАв рдбреЗрдпрд░реА рдФрд░ рдорддреНрд╕реНрдп рдкрд╛рд▓рди рднреА рд╢рд╛рдорд┐рд▓\nтАв рдирдЬрджреАрдХреА рдмреИрдВрдХ рдореЗрдВ рдЖрд╡реЗрджрди рдХрд░реЗрдВ', en: 'ЁЯТ│ Kisan Credit Card:\nтАв Purpose: Short-term crop loans\nтАв Interest: 7% (4% with subsidy)\nтАв Covers: Dairy & fisheries too\nтАв Apply at nearest bank' },
  'soil': { en: 'ЁЯМ▒ Soil Health Card:\nтАв Free soil testing every 2 years\nтАв Nutrient status & fertilizer recommendations\nтАв Reduces input cost, increases productivity\nтАв Contact local agriculture office', hi: 'ЁЯМ▒ рдорд┐рдЯреНрдЯреА рд╕реНрд╡рд╛рд╕реНрдереНрдп рдХрд╛рд░реНрдб: рд╣рд░ 2 рд╕рд╛рд▓ рдореЗрдВ рдореБрдлреНрдд рдорд┐рдЯреНрдЯреА рдЬрд╛рдВрдЪ' },
  'organic': { en: 'ЁЯМ┐ Paramparagat Krishi Vikas Yojana (PKVY):\nтАв Promotes organic farming\nтАв тВ╣50,000/hectare over 3 years\nтАв Includes training, certification, marketing\nтАв Contact: local agriculture dept', hi: 'ЁЯМ┐ рдЬреИрд╡рд┐рдХ рдЦреЗрддреА рдпреЛрдЬрдирд╛' },
};

const schemes = [
  { icon: 'ЁЯТ░', color: '#27ae60', name: 'PM-KISAN рд╕рдореНрдорд╛рди рдирд┐рдзрд┐', sub: 'Pradhan Mantri Kisan Samman Nidhi', detail: `<strong>рд▓рд╛рдн / Benefit:</strong> тВ╣6,000 рдкреНрд░рддрд┐ рд╡рд░реНрд╖ (3 рдХрд┐рд╕реНрддреЛрдВ рдореЗрдВ) | тВ╣6,000/year in 3 installments<br><br><strong>рдкрд╛рддреНрд░рддрд╛ / Eligibility:</strong> рд╕рднреА рдкрд╛рддреНрд░ рднреВрдзрд╛рд░рдХ рдХрд┐рд╕рд╛рди рдкрд░рд┐рд╡рд╛рд░ | All eligible landholding farmer families<br><br><strong>рдмрд╛рд╣рд░ / Exclusions:</strong> рдЖрдпрдХрд░рджрд╛рддрд╛, рд╕рдВрд╕реНрдерд╛рдЧрдд рднреВрдорд┐рдзрд╛рд░рдХ | Income tax payers, institutional landholders<br><br><strong>рдЖрд╡реЗрджрди / Apply:</strong> pmkisan.gov.in рдпрд╛ CSC рдХреЗрдВрджреНрд░<br><strong>Helpline:</strong> 155261<br><span class="scheme-tag tag-green">тВ╣6,000/year</span><span class="scheme-tag tag-blue">DBT</span><span class="scheme-tag tag-orange">Since 2019</span>` },
  { icon: 'ЁЯМ╛', color: '#e07b1a', name: 'PM рдлрд╕рд▓ рдмреАрдорд╛ рдпреЛрдЬрдирд╛', sub: 'Pradhan Mantri Fasal Bima Yojana', detail: `<strong>рдкреНрд░реАрдорд┐рдпрдо / Premium:</strong> рдЦрд░реАрдл 2%, рд░рдмреА 1.5%, рдмрд╛рдЧрд╡рд╛рдиреА 5%<br><br><strong>рдХрд╡рд░реЗрдЬ / Coverage:</strong> рдмрд╛рдврд╝, рд╕реВрдЦрд╛, рдЪрдХреНрд░рд╡рд╛рдд, рдХреАрдЯ рд╣рдорд▓рд╛ | Flood, drought, cyclone, pest attack<br><br><strong>рджрд╛рд╡рд╛ / Claim:</strong> рдмреИрдВрдХ/рдмреАрдорд╛ рдХрдВрдкрдиреА рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ<br><strong>Helpline:</strong> 1800-200-7710<br><span class="scheme-tag tag-green">Crop Insurance</span><span class="scheme-tag tag-blue">Low Premium</span>` },
  { icon: 'ЁЯПж', color: '#2980b9', name: 'рдХрд┐рд╕рд╛рди рдХреНрд░реЗрдбрд┐рдЯ рдХрд╛рд░реНрдб', sub: 'Kisan Credit Card (KCC)', detail: `<strong>рдЙрджреНрджреЗрд╢реНрдп / Purpose:</strong> рдЕрд▓реНрдкрдХрд╛рд▓рд┐рдХ рдлрд╕рд▓ рдЛрдг | Short-term crop loan<br><br><strong>рдмреНрдпрд╛рдЬ / Interest:</strong> 7% (рд╕рдмреНрд╕рд┐рдбреА рдХреЗ рд╕рд╛рде 4% / with subsidy 4%)<br><br><strong>рдХрд╡рд░реЗрдЬ / Coverage:</strong> рдбреЗрдпрд░реА рдФрд░ рдорддреНрд╕реНрдп рдкрд╛рд▓рди рднреА | Dairy & fisheries too<br><br><strong>рдЖрд╡реЗрджрди / Apply:</strong> рдирдЬрджреАрдХреА рдмреИрдВрдХ | Nearest bank<br><span class="scheme-tag tag-green">4% Interest</span><span class="scheme-tag tag-blue">Flexible</span>` },
  { icon: 'ЁЯТз', color: '#1abc9c', name: 'PM рдХреГрд╖рд┐ рд╕рд┐рдВрдЪрд╛рдИ рдпреЛрдЬрдирд╛', sub: 'PM Krishi Sinchai Yojana (PMKSY)', detail: `<strong>рдЯреИрдЧрд▓рд╛рдЗрди:</strong> рд╣рд░ рдЦреЗрдд рдХреЛ рдкрд╛рдиреА | Har Khet Ko Pani<br><br><strong>рд▓рд╛рдн / Benefit:</strong> рд╕рд┐рдВрдЪрд╛рдИ рд╕реБрд╡рд┐рдзрд╛рдУрдВ рдХрд╛ рд╡рд┐рд╕реНрддрд╛рд░ | Irrigation expansion<br><br><strong>рд╢рд╛рдорд┐рд▓ / Includes:</strong> рдбреНрд░рд┐рдк, рд╕реНрдкреНрд░рд┐рдВрдХрд▓рд░ рд╕рд┐рд╕реНрдЯрдо | Drip & sprinkler systems<br><br><strong>рд╕рдмреНрд╕рд┐рдбреА / Subsidy:</strong> рд░рд╛рдЬреНрдп рдХреЗ рдЕрдиреБрд╕рд╛рд░ | Varies by state<br><span class="scheme-tag tag-green">Water Security</span><span class="scheme-tag tag-blue">Drip/Sprinkler</span>` },
  { icon: 'ЁЯМ▒', color: '#8e44ad', name: 'рдореГрджрд╛ рд╕реНрд╡рд╛рд╕реНрдереНрдп рдХрд╛рд░реНрдб', sub: 'Soil Health Card Scheme', detail: `<strong>рд▓рд╛рдн / Benefit:</strong> рд╣рд░ 2 рд╕рд╛рд▓ рдореЗрдВ рдореБрдлреНрдд рдорд┐рдЯреНрдЯреА рдЬрд╛рдВрдЪ | Free soil testing every 2 years<br><br><strong>рд░рд┐рдкреЛрд░реНрдЯ / Report:</strong> рдкреЛрд╖рдХ рддрддреНрд╡ рд╕реНрддрд░ рдФрд░ рдЦрд╛рдж рд╕рд┐рдлрд╛рд░рд┐рд╢ | Nutrient status & fertilizer recommendation<br><br><strong>рд▓рдХреНрд╖реНрдп / Goal:</strong> рд▓рд╛рдЧрдд рдХрдо рдХрд░рдирд╛, рдЙрддреНрдкрд╛рджрдХрддрд╛ рдмрдврд╝рд╛рдирд╛<br><span class="scheme-tag tag-green">Free Testing</span><span class="scheme-tag tag-blue">2 Yearly</span>` },
  { icon: 'ЁЯМ┐', color: '#27ae60', name: 'рдЬреИрд╡рд┐рдХ рдЦреЗрддреА рдпреЛрдЬрдирд╛', sub: 'Paramparagat Krishi Vikas Yojana (PKVY)', detail: `<strong>рдЙрджреНрджреЗрд╢реНрдп / Purpose:</strong> рдЬреИрд╡рд┐рдХ рдЦреЗрддреА рдХреЛ рдкреНрд░реЛрддреНрд╕рд╛рд╣рди | Promote organic farming<br><br><strong>рд╕рд╣рд╛рдпрддрд╛ / Support:</strong> тВ╣50,000/рд╣реЗрдХреНрдЯреЗрдпрд░ (3 рд╡рд░реНрд╖) | тВ╣50,000/hectare over 3 years<br><br><strong>рд╢рд╛рдорд┐рд▓ / Includes:</strong> рдкреНрд░рд╢рд┐рдХреНрд╖рдг, рдкреНрд░рдорд╛рдгрди, рд╡рд┐рдкрдгрди | Training, certification, marketing<br><span class="scheme-tag tag-green">тВ╣50,000/ha</span><span class="scheme-tag tag-blue">3 Years</span><span class="scheme-tag tag-orange">Organic</span>` },
  { icon: 'ЁЯЫТ', color: '#e67e22', name: 'рд░рд╛рд╖реНрдЯреНрд░реАрдп рдХреГрд╖рд┐ рдмрд╛рдЬрд╛рд░', sub: 'National Agriculture Market (e-NAM)', detail: `<strong>рдкреНрд░рдХрд╛рд░ / Type:</strong> рдСрдирд▓рд╛рдЗрди рдЯреНрд░реЗрдбрд┐рдВрдЧ рдкреНрд▓реЗрдЯрдлреЙрд░реНрдо | Online trading platform<br><br><strong>рд▓рд╛рдн / Benefit:</strong> рдХрд┐рд╕рд╛рди рджреЗрд╢рднрд░ рдореЗрдВ рдЙрдкрдЬ рдмреЗрдЪ рд╕рдХрддреЗ рд╣реИрдВ | Farmers can sell produce nationwide<br><br><strong>рдлрд╛рдпрджрд╛ / Advantage:</strong> рдмреЗрд╣рддрд░ рдореВрд▓реНрдп рдкрд╛рд░рджрд░реНрд╢рд┐рддрд╛ | Better price transparency<br><strong>Portal:</strong> enam.gov.in<br><span class="scheme-tag tag-green">Better Prices</span><span class="scheme-tag tag-blue">Online</span>` },
  { icon: 'ЁЯС┤', color: '#c0392b', name: 'PM рдХрд┐рд╕рд╛рди рдорд╛рдирдзрди рдпреЛрдЬрдирд╛', sub: 'Kisan Pension Scheme', detail: `<strong>рдкреЗрдВрд╢рди / Pension:</strong> 60 рд╡рд░реНрд╖ рдХреЗ рдмрд╛рдж тВ╣3,000/рдорд╛рд╣ | тВ╣3,000/month after age 60<br><br><strong>рдЙрдореНрд░ / Entry Age:</strong> 18-40 рд╡рд░реНрд╖<br><br><strong>рдЕрдВрд╢рджрд╛рди / Contribution:</strong> тВ╣55-тВ╣200/рдорд╛рд╣ (рдЙрдореНрд░ рдХреЗ рдЕрдиреБрд╕рд╛рд░) | тВ╣55-тВ╣200/month based on age<br><br><strong>рд╕рд░рдХрд╛рд░ рднреА рдмрд░рд╛рдмрд░ / Govt matches contribution<br><span class="scheme-tag tag-green">тВ╣3,000/month</span><span class="scheme-tag tag-blue">Pension</span>` },
  { icon: 'ЁЯРЯ', color: '#3498db', name: 'PM рдорддреНрд╕реНрдп рд╕рдВрдкрджрд╛ рдпреЛрдЬрдирд╛', sub: 'PM Matsya Sampada Yojana (PMMSY)', detail: `<strong>рдХреНрд╖реЗрддреНрд░ / Sector:</strong> рдорддреНрд╕реНрдп рдкрд╛рд▓рди | Fisheries<br><br><strong>рд╕рд╣рд╛рдпрддрд╛ / Support:</strong> рддрд╛рд▓рд╛рдм рдирд┐рд░реНрдорд╛рдг, рдХреЛрд▓реНрдб рдЪреЗрди | Pond construction, cold chain<br><br><strong>рд╕рдмреНрд╕рд┐рдбреА / Subsidy:</strong> рд╢реНрд░реЗрдгреА рдХреЗ рдЕрдиреБрд╕рд╛рд░ 40-60% | 40-60% based on category<br><span class="scheme-tag tag-green">40-60% Subsidy</span><span class="scheme-tag tag-blue">Fisheries</span>` },
  { icon: 'ЁЯЪЬ', color: '#f39c12', name: 'PM рдХрд┐рд╕рд╛рди рдЯреНрд░реИрдХреНрдЯрд░ рдпреЛрдЬрдирд╛', sub: 'PM Kisan Tractor Yojana', detail: `<strong>рд▓рд╛рдн / Benefit:</strong> рдЯреНрд░реИрдХреНрдЯрд░ рдЦрд░реАрдж рдкрд░ 20-50% рд╕рдмреНрд╕рд┐рдбреА | 20-50% subsidy on tractor purchase<br><br><strong>рдиреЛрдЯ / Note:</strong> рдЙрдкрд▓рдмреНрдзрддрд╛ рд░рд╛рдЬреНрдп рдХреЗ рдЕрдиреБрд╕рд╛рд░ | Availability varies by state<br><br><strong>рдЖрд╡реЗрджрди / Apply:</strong> рдирдЬрджреАрдХреА рдХреГрд╖рд┐ рд╡рд┐рднрд╛рдЧ | Nearest agriculture dept<br><span class="scheme-tag tag-orange">20-50% Subsidy</span><span class="scheme-tag tag-blue">Mechanization</span>` },
  { icon: 'ЁЯСйтАНЁЯМ╛', color: '#9b59b6', name: 'рдорд╣рд┐рд▓рд╛ рдХрд┐рд╕рд╛рди рд╕рд╢рдХреНрддрд┐рдХрд░рдг', sub: 'Mahila Kisan Sashaktikaran Pariyojana', detail: `<strong>рд▓рдХреНрд╖реНрдп / Target:</strong> рдорд╣рд┐рд▓рд╛ рдХрд┐рд╕рд╛рди | Women farmers<br><br><strong>рд▓рд╛рдн / Benefit:</strong> рдХреМрд╢рд▓ рдкреНрд░рд╢рд┐рдХреНрд╖рдг, рд╡рд┐рддреНрддреАрдп рд╕рд╣рд╛рдпрддрд╛ | Skill training, financial support<br><span class="scheme-tag tag-green">Women Farmers</span><span class="scheme-tag tag-blue">Training</span>` },
  { icon: 'ЁЯПЧя╕П', color: '#1abc9c', name: 'рдХреГрд╖рд┐ рдЕрд╡рд╕рдВрд░рдЪрдирд╛ рдирд┐рдзрд┐', sub: 'Agriculture Infrastructure Fund', detail: `<strong>рдЛрдг рд╕реАрдорд╛ / Loan Limit:</strong> тВ╣2 рдХрд░реЛрдбрд╝ рддрдХ | Up to тВ╣2 crore<br><br><strong>рдмреНрдпрд╛рдЬ рд╕рдмреНрд╕рд┐рдбреА / Interest Subsidy:</strong> 3%<br><br><strong>рдЙрджреНрджреЗрд╢реНрдп / For:</strong> рдЧреЛрджрд╛рдо, рдХреЛрд▓реНрдб рд╕реНрдЯреЛрд░реЗрдЬ, рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рдЗрдХрд╛рдЗрдпрд╛рдВ | Warehouses, cold storage, processing units<br><span class="scheme-tag tag-green">тВ╣2 Crore Limit</span><span class="scheme-tag tag-blue">3% Subsidy</span>` },
];

const farmingFAQs = [
  { q: 'рдЧреЗрд╣реВрдВ рдореЗрдВ рдкреАрд▓рд╛ рд░рд╕реНрдЯ рд░реЛрдЧ / Yellow Rust in Wheat', a: 'ЁЯМ╛ рдкреАрд▓рд╛ рд░рд╕реНрдЯ (Yellow Rust):\nтАв рд▓рдХреНрд╖рдг: рдкрддреНрддрд┐рдпреЛрдВ рдкрд░ рдкреАрд▓реА рдзрд╛рд░рд┐рдпрд╛рдВ\nтАв рдЙрдкрд╛рдп: Propiconazole 25% EC - 200ml/рд╣реЗрдХреНрдЯреЗрдпрд░\nтАв Symptoms: Yellow stripes on leaves\nтАв Treatment: Propiconazole spray\nтАв Prevention: Resistant varieties HD-2967' },
  { q: 'рдЦрд╛рдж рдХрд╛ рд╕рд╣реА рдЙрдкрдпреЛрдЧ / Proper Fertilizer Use', a: 'ЁЯТК рдЦрд╛рдж рдкреНрд░рдмрдВрдзрди:\nтАв рдмреБрдЖрдИ рдкрд░: DAP (рдлрд╛рд╕реНрдлреЛрд░рд╕)\nтАв 20 рджрд┐рди рдмрд╛рдж: рдпреВрд░рд┐рдпрд╛ (рдирд╛рдЗрдЯреНрд░реЛрдЬрди)\nтАв 40 рджрд┐рди рдмрд╛рдж: рджреВрд╕рд░реА рдпреВрд░рд┐рдпрд╛ рдХрд┐рд╕реНрдд\nтАв рдорд┐рдЯреНрдЯреА рдЬрд╛рдВрдЪ рдХреЗ рдмрд╛рдж рдЦрд╛рдж рдбрд╛рд▓реЗрдВ\nтАв Soil test first, then fertilize accordingly' },
  { q: 'рдЯрдкрдХ рд╕рд┐рдВрдЪрд╛рдИ / Drip Irrigation', a: 'ЁЯТз рдЯрдкрдХ рд╕рд┐рдВрдЪрд╛рдИ:\nтАв 40-50% рдкрд╛рдиреА рдХреА рдмрдЪрдд\nтАв рдХрдо рдЦрд░рдкрддрд╡рд╛рд░\nтАв PMKSY рдХреЗ рддрд╣рдд рд╕рдмреНрд╕рд┐рдбреА\nтАв Saves 40-50% water\nтАв Subsidy available under PMKSY' },
  { q: 'рдЬреИрд╡рд┐рдХ рдЦрд╛рдж рдмрдирд╛рдирд╛ / Making Organic Compost', a: 'ЁЯМ┐ рдЬреИрд╡рд┐рдХ рдЦрд╛рдж:\nтАв рдЦреЗрдд рдХрд╛ рдХрдЪрд░рд╛ + рдЧреЛрдмрд░ = рдХрдореНрдкреЛрд╕реНрдЯ\nтАв 3-4 рдорд╣реАрдиреЗ рдореЗрдВ рддреИрдпрд╛рд░\nтАв 5-10 рдЯрди/рд╣реЗрдХреНрдЯреЗрдпрд░ рдбрд╛рд▓реЗрдВ\nтАв Farm waste + Cow dung = Compost\nтАв Ready in 3-4 months, apply 5-10 t/ha' },
  { q: 'рдлрд╕рд▓ рдЪрдХреНрд░ / Crop Rotation', a: 'ЁЯФД рдлрд╕рд▓ рдЪрдХреНрд░:\nтАв рдЧреЗрд╣реВрдВ-рдзрд╛рди рдХреЗ рдмрд╛рдж рджрд▓рд╣рди рд▓рдЧрд╛рдПрдВ\nтАв рдирд╛рдЗрдЯреНрд░реЛрдЬрди рд╕реНрдерд┐рд░реАрдХрд░рдг рд╣реЛрддрд╛ рд╣реИ\nтАв After wheat-paddy, grow pulses\nтАв Nitrogen fixation improves soil health' },
];

const animalFAQs = [
  { q: 'рджреВрдз рдЙрддреНрдкрд╛рджрди рдХреИрд╕реЗ рдмрдврд╝рд╛рдПрдВ / How to Increase Milk Production', a: 'ЁЯРД рджреВрдз рдЙрддреНрдкрд╛рджрди:\nтАв рд╕рдВрддреБрд▓рд┐рдд рдЪрд╛рд░рд╛: рд╣рд░рд╛ + рд╕реВрдЦрд╛ + рджрд╛рдирд╛\nтАв рд╕реНрд╡рдЪреНрдЫ рдкрд╛рдиреА: 3-4 рдмрд╛рд░/рджрд┐рди\nтАв рд╕рдордп рдкрд░ рджреВрдз рджреБрд╣реЗрдВ\nтАв рдкрд╢реБ рдЪрд┐рдХрд┐рддреНрд╕рдХ рд╕реЗ рдЯреАрдХрд╛ рд▓рдЧрд╡рд╛рдПрдВ\nтАв Balanced feed: green + dry + grain\nтАв Clean water 3-4 times/day' },
  { q: 'рдмрдХрд░реА рдкрд╛рд▓рди / Goat Farming', a: 'ЁЯРР рдмрдХрд░реА рдкрд╛рд▓рди:\nтАв рдХрдо рд▓рд╛рдЧрдд, рдЬрд▓реНрджреА рдЖрдп\nтАв National Livestock Mission: рд╕рдмреНрд╕рд┐рдбреА\nтАв Barbari, Jamuna Pari рдХрд┐рд╕реНрдореЗрдВ\nтАв Low cost, quick income\nтАв Subsidy under National Livestock Mission' },
  { q: 'рдореБрд░реНрдЧреА рдкрд╛рд▓рди / Poultry Farming', a: 'ЁЯРФ рдореБрд░реНрдЧреА рдкрд╛рд▓рди:\nтАв National Livestock Mission рд╕рд╣рд╛рдпрддрд╛\nтАв рд╢реЗрдб рдирд┐рд░реНрдорд╛рдг рдФрд░ рдирд╕реНрд▓ рд╕реБрдзрд╛рд░\nтАв KCC рд╕реЗ рдЛрдг рд▓реЗрдВ\nтАв NLM support for shed & breed improvement' },
];

// Hindi months
const hindiMonths = ['рдЬрдирд╡рд░реА','рдлрд░рд╡рд░реА','рдорд╛рд░реНрдЪ','рдЕрдкреНрд░реИрд▓','рдордИ','рдЬреВрди','рдЬреБрд▓рд╛рдИ','рдЕрдЧрд╕реНрдд','рд╕рд┐рддрдВрдмрд░','рдЕрдХреНрдЯреВрдмрд░','рдирд╡рдВрдмрд░','рджрд┐рд╕рдВрдмрд░'];
const hindiDays = ['рд░','рд╕','рдо','рдмреБ','рдЧреБ','рд╢реБ','рд╢'];
const englishDays = ['Sun','Mon','Tue','Wed','Thu','Fri','Sat'];
const englishMonths = ['January','February','March','April','May','June','July','August','September','October','November','December'];

// Crop events per month index
const cropEvents = {0:['#e07b1a'],1:['#27ae60'],2:['#f39c12'],3:['#f39c12'],4:['#f39c12'],5:['#27ae60'],6:['#27ae60'],7:['#27ae60'],8:['#27ae60'],9:['#c0392b'],10:['#c0392b'],11:['#c0392b']};

// ========================
// INIT
// ========================
window.onload = () => {
  renderCalendar();
  renderSchemes();
  renderFAQs();
};

// ========================
// TABS
// ========================
function showTab(name, el) {
  document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
  document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
  document.getElementById('tab-' + name).classList.add('active');
  el.classList.add('active');
}

// ========================
// LANG
// ========================
function toggleLang() {
  currentLang = currentLang === 'hi' ? 'en' : 'hi';
  document.querySelectorAll('.tab-lbl').forEach(el => {
    el.textContent = el.getAttribute('data-' + currentLang);
  });
  document.getElementById('langBtn').textContent = currentLang === 'hi' ? 'рд╣рд┐рдВ/EN' : 'EN/рд╣рд┐рдВ';
  renderCalendar();
  showToast(currentLang === 'hi' ? 'рд╣рд┐рдВрджреА рднрд╛рд╖рд╛ рдЪрд╛рд▓реВ' : 'English language on');
}

// ========================
// THEME
// ========================
function toggleTheme() {
  isDark = !isDark;
  document.documentElement.setAttribute('data-theme', isDark ? 'dark' : 'light');
  document.getElementById('themeBtn').textContent = isDark ? 'тШАя╕П' : 'ЁЯМЩ';
  showToast(isDark ? 'Dark mode on ЁЯМЩ' : 'Light mode on тШАя╕П');
}

// ========================
// CALENDAR
// ========================
function renderCalendar() {
  const grid = document.getElementById('calGrid');
  const mHi = document.getElementById('calMonthHi');
  const mEn = document.getElementById('calMonthEn');
  mHi.textContent = hindiMonths[calMonth] + ' ' + calYear;
  mEn.textContent = englishMonths[calMonth] + ' ' + calYear;

  const days = currentLang === 'hi' ? hindiDays : englishDays;
  let html = days.map(d => `<div class="cal-day-header">${d}</div>`).join('');

  const first = new Date(calYear, calMonth, 1).getDay();
  const total = new Date(calYear, calMonth + 1, 0).getDate();
  const today = new Date();

  for(let i = 0; i < first; i++) html += '<div class="cal-day empty"></div>';
  for(let d = 1; d <= total; d++) {
    const isToday = d === today.getDate() && calMonth === today.getMonth() && calYear === today.getFullYear();
    const events = cropEvents[calMonth] || [];
    const dots = events.map(c => `<div class="cal-event-dot" style="background:${c}"></div>`).join('');
    html += `<div class="cal-day${isToday?' today':''}"><span class="day-num">${d}</span>${dots}</div>`;
  }
  grid.innerHTML = html;
}

function changeMonth(dir) {
  calMonth += dir;
  if(calMonth < 0) { calMonth = 11; calYear--; }
  if(calMonth > 11) { calMonth = 0; calYear++; }
  renderCalendar();
}

// ========================
// SCHEMES
// ========================
function renderSchemes() {
  const container = document.getElementById('schemesContainer');
  container.innerHTML = schemes.map((s, i) => `
    <div class="scheme-card" id="scheme-${i}" onclick="toggleScheme(${i})">
      <div class="scheme-header">
        <div class="scheme-icon" style="background:${s.color}22;color:${s.color}">${s.icon}</div>
        <div class="scheme-title">
          <h3>${s.name}</h3>
          <p>${s.sub}</p>
        </div>
        <span class="scheme-chevron">тЦ╢</span>
      </div>
      <div class="scheme-body">
        <div class="scheme-detail">${s.detail}</div>
      </div>
    </div>
  `).join('');
}

function toggleScheme(i) {
  document.getElementById('scheme-' + i).classList.toggle('open');
}

// ========================
// FAQs
// ========================
function renderFAQs() {
  document.getElementById('farmingFAQ').innerHTML = farmingFAQs.map((f,i) => faqHTML(f, 'f'+i)).join('');
  document.getElementById('animalFAQ').innerHTML = animalFAQs.map((f,i) => faqHTML(f, 'a'+i)).join('');
}
function faqHTML(f, id) {
  return `<div class="faq-item" id="faq-${id}">
    <div class="faq-q" onclick="toggleFAQ('${id}')">${f.q} <span class="faq-chevron">тЦ╝</span></div>
    <div class="faq-a" style="white-space:pre-line">${f.a}</div>
  </div>`;
}
function toggleFAQ(id) {
  document.getElementById('faq-' + id).classList.toggle('open');
}

// ========================
// CHAT
// ========================
function handleKey(e) {
  if(e.key === 'Enter' && !e.shiftKey) { e.preventDefault(); sendMessage(); }
}

function sendChip(el) {
  document.getElementById('chatInput').value = el.textContent.trim();
  sendMessage();
}

function getTime() {
  return new Date().toLocaleTimeString('hi-IN', { hour: '2-digit', minute: '2-digit' });
}

function sendMessage() {
  const input = document.getElementById('chatInput');
  const text = input.value.trim();
  if(!text) return;
  input.value = '';

  appendMsg('user', text);
  
  // Track data
  dataBytes += text.length * 2;
  document.getElementById('dataCounter').textContent = (dataBytes / 1024).toFixed(1) + 'KB';

  // Check cache
  const cacheKey = text.toLowerCase();
  if(responseCache[cacheKey]) {
    cacheHits++;
    document.getElementById('cacheHits').textContent = cacheHits;
    setTimeout(() => appendMsg('bot', 'ЁЯУж [Cached] ' + responseCache[cacheKey]), 200);
    return;
  }

  // Show typing
  const typingId = 'typing-' + Date.now();
  appendTyping(typingId);

  setTimeout(() => {
    document.getElementById(typingId)?.remove();
    const reply = getOfflineReply(text);
    responseCache[cacheKey] = reply;
    appendMsg('bot', reply);
  }, 600 + Math.random() * 400);
}

function getOfflineReply(text) {
  const lower = text.toLowerCase();
  
  // Search knowledge base
  for(const [key, val] of Object.entries(knowledgeBase)) {
    if(lower.includes(key.toLowerCase())) {
      return (val[currentLang] || val['hi'] || val['en']).replace(/\n/g, '\n');
    }
  }

  // Generic fallbacks
  if(lower.includes('рдирдорд╕реНрддреЗ') || lower.includes('hello') || lower.includes('hi')) {
    return currentLang === 'hi' ? 'ЁЯЩП рдирдорд╕реНрддреЗ! рдореИрдВ рдЧреНрд░рд╛рдо рд╕рд╣рд╛рдпрдХ AI рд╣реВрдБред рдЖрдк рдлрд╕рд▓, рдореМрд╕рдо, рд╕рд░рдХрд╛рд░реА рдпреЛрдЬрдирд╛рдУрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдкреВрдЫ рд╕рдХрддреЗ рд╣реИрдВред' : 'ЁЯЩП Hello! I am Gram Sahayak AI. Ask me about crops, weather, or government schemes!';
  }
  if(lower.includes('рдЦрд╛рдж') || lower.includes('fertilizer')) {
    return currentLang === 'hi' ? 'ЁЯТК рдЦрд╛рдж рдХреА рдЬрд╛рдирдХрд╛рд░реА:\nтАв DAP: рдмреБрдЖрдИ рдХреЗ рд╕рдордп\nтАв рдпреВрд░рд┐рдпрд╛: рдирд╛рдЗрдЯреНрд░реЛрдЬрди рдХреЗ рд▓рд┐рдП\nтАв рдорд┐рдЯреНрдЯреА рдЬрд╛рдВрдЪ рдХрд░рд╡рд╛рдПрдВ рдкрд╣рд▓реЗ\nтАв Soil Health Card рдХреЗ рд▓рд┐рдП рдЖрд╡реЗрджрди рдХрд░реЗрдВ' : 'ЁЯТК Fertilizer Guide:\nтАв DAP: At sowing\nтАв Urea: For nitrogen\nтАв Get soil tested first\nтАв Apply for Soil Health Card';
  }
  if(lower.includes('рдкрд╛рдиреА') || lower.includes('water') || lower.includes('рд╕рд┐рдВрдЪрд╛рдИ') || lower.includes('irrigation')) {
    return currentLang === 'hi' ? 'ЁЯТз рд╕рд┐рдВрдЪрд╛рдИ рд╕рд▓рд╛рд╣:\nтАв рдЧреЗрд╣реВрдВ: 5-6 рдмрд╛рд░\nтАв рдзрд╛рди: рдЦреЗрдд рдореЗрдВ 5cm рдкрд╛рдиреА\nтАв рдбреНрд░рд┐рдк рд╕рд┐рдВрдЪрд╛рдИ: PMKSY рд╕реЗ рд╕рдмреНрд╕рд┐рдбреА\nтАв Drip irrigation: 40% water saving' : 'ЁЯТз Irrigation Tips:\nтАв Wheat: 5-6 irrigations\nтАв Paddy: Keep 5cm water\nтАв Drip: 40% water saving\nтАв Subsidy via PMKSY scheme';
  }
  if(lower.includes('рд╕рд░рдХрд╛рд░') || lower.includes('government') || lower.includes('scheme') || lower.includes('рдпреЛрдЬрдирд╛')) {
    return currentLang === 'hi' ? 'ЁЯПЫя╕П рдореБрдЦреНрдп рдХрд┐рд╕рд╛рди рдпреЛрдЬрдирд╛рдПрдВ:\nтАв PM-KISAN: тВ╣6,000/рд╡рд░реНрд╖\nтАв PMFBY: рдлрд╕рд▓ рдмреАрдорд╛\nтАв KCC: 4-7% рдмреНрдпрд╛рдЬ рдЛрдг\nтАв PMKSY: рд╕рд┐рдВрдЪрд╛рдИ рд╕рдмреНрд╕рд┐рдбреА\n\nрдпреЛрдЬрдирд╛рдПрдВ рдЯреИрдм рдкрд░ рдкреВрд░реА рдЬрд╛рдирдХрд╛рд░реА рджреЗрдЦреЗрдВред' : 'ЁЯПЫя╕П Key Farmer Schemes:\nтАв PM-KISAN: тВ╣6,000/year\nтАв PMFBY: Crop insurance\nтАв KCC: 4-7% interest loan\nтАв PMKSY: Irrigation subsidy\n\nCheck Schemes tab for details.';
  }
  
  return currentLang === 'hi' 
    ? `ЁЯдФ "${text}" рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЬрд╛рдирдХрд╛рд░реА рдирд╣реАрдВ рдорд┐рд▓реАред рдХреГрдкрдпрд╛ рдЗрдирдореЗрдВ рд╕реЗ рдкреВрдЫреЗрдВ:\nЁЯМ╛ рдЧреЗрд╣реВрдВ, рдзрд╛рди, рд╕рд░рд╕реЛрдВ рдХреА рдЦреЗрддреА\nЁЯПЫя╕П PM-KISAN, рдлрд╕рд▓ рдмреАрдорд╛, KCC\nЁЯТз рд╕рд┐рдВрдЪрд╛рдИ, рдЦрд╛рдж, рдХреАрдЯ рдирд┐рдпрдВрддреНрд░рдг\n\nЁЯУ╡ рдпрд╣ рдЬрд╛рдирдХрд╛рд░реА offline рдЙрдкрд▓рдмреНрдз рд╣реИред`
    : `ЁЯдФ Couldn't find info on "${text}". Try asking:\nЁЯМ╛ Wheat, paddy, mustard farming\nЁЯПЫя╕П PM-KISAN, crop insurance, KCC\nЁЯТз Irrigation, fertilizer, pest control\n\nЁЯУ╡ All responses are available offline.`;
}

function appendMsg(type, text) {
  const msgs = document.getElementById('chatMessages');
  const div = document.createElement('div');
  div.className = 'msg ' + type;
  div.innerHTML = `
    <div class="msg-avatar">${type === 'bot' ? 'ЁЯМ╛' : 'ЁЯСд'}</div>
    <div>
      <div class="msg-bubble" style="white-space:pre-line">${text}</div>
      <div class="msg-time">${getTime()}</div>
    </div>
  `;
  msgs.appendChild(div);
  msgs.scrollTop = msgs.scrollHeight;
  // Remove quick chips after first user message
  const chips = document.getElementById('quickChips');
  if(chips && type === 'user') chips.remove();
}

function appendTyping(id) {
  const msgs = document.getElementById('chatMessages');
  const div = document.createElement('div');
  div.className = 'msg bot';
  div.id = id;
  div.innerHTML = `<div class="msg-avatar">ЁЯМ╛</div><div class="msg-bubble"><div class="typing-dots"><span></span><span></span><span></span></div></div>`;
  msgs.appendChild(div);
  msgs.scrollTop = msgs.scrollHeight;
}

// ========================
// WEATHER
// ========================
const weatherIcons = { Clear: 'тШАя╕П', Clouds: 'тЫЕ', Rain: 'ЁЯМзя╕П', Drizzle: 'ЁЯМжя╕П', Thunderstorm: 'тЫИя╕П', Snow: 'тЭДя╕П', Mist: 'ЁЯМля╕П', default: 'ЁЯМдя╕П' };
const weatherAdviceData = [
  { icon: 'ЁЯМ╛', text: { hi: 'рдЖрдЬ рдЧреЗрд╣реВрдВ рдХреА рд╕рд┐рдВрдЪрд╛рдИ рдХреЗ рд▓рд┐рдП рдЙрддреНрддрдо рд╕рдордп рд╣реИ', en: 'Today is a good time to irrigate wheat fields' } },
  { icon: 'ЁЯМ╗', text: { hi: 'рд╕рд░рд╕реЛрдВ рдХреА рдХрдЯрд╛рдИ рдХреЗ рд▓рд┐рдП рдореМрд╕рдо рдЕрдиреБрдХреВрд▓ рд╣реИ', en: 'Weather is suitable for mustard harvesting' } },
  { icon: 'ЁЯТК', text: { hi: 'рдХреАрдЯрдирд╛рд╢рдХ рдЫрд┐рдбрд╝рдХрд╛рд╡ рд╕реЗ рдкрд╣рд▓реЗ рд╣рд╡рд╛ рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдВ', en: 'Check wind direction before pesticide spraying' } },
  { icon: 'ЁЯРД', text: { hi: 'рдкрд╢реБрдУрдВ рдХреЛ рдкрд░реНрдпрд╛рдкреНрдд рдкрд╛рдиреА рдкрд┐рд▓рд╛рдПрдВ', en: 'Ensure animals have adequate water supply' } },
];

function fetchWeather() {
  const btn = document.getElementById('weather-btn-text');
  btn.textContent = 'ЁЯУб Loading...';
  
  if(navigator.geolocation) {
    navigator.geolocation.getCurrentPosition(pos => {
      const {latitude: lat, longitude: lon} = pos.coords;
      // Use Open-Meteo (free, no API key)
      fetch(`https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&current_weather=true&hourly=relativehumidity_2m,windspeed_10m,uv_index`)
        .then(r => r.json())
        .then(data => displayWeather(data, lat, lon))
        .catch(() => showMockWeather(lat, lon));
    }, () => showMockWeather(26.8, 80.9));
  } else { showMockWeather(26.8, 80.9); }
}

function displayWeather(data, lat, lon) {
  const cw = data.current_weather;
  const temp = Math.round(cw.temperature);
  const wind = Math.round(cw.windspeed);
  const code = cw.weathercode;
  
  let desc = 'рдЖрдВрд╢рд┐рдХ рдмрд╛рджрд▓ / Partly Cloudy';
  let icon = 'тЫЕ';
  if(code <= 1) { desc = 'рд╕рд╛рдл рдЖрд╕рдорд╛рди / Clear Sky'; icon = 'тШАя╕П'; }
  else if(code <= 3) { desc = 'рдмрд╛рджрд▓ / Cloudy'; icon = 'тШБя╕П'; }
  else if(code <= 67) { desc = 'рдмрд╛рд░рд┐рд╢ / Rain'; icon = 'ЁЯМзя╕П'; }
  else if(code >= 95) { desc = 'рдЧрд░рдЬ / Thunderstorm'; icon = 'тЫИя╕П'; }

  const humidity = data.hourly?.relativehumidity_2m?.[new Date().getHours()] || 65;
  const uv = data.hourly?.uv_index?.[new Date().getHours()] || 4;

  document.getElementById('wTemp').textContent = temp + '┬░C';
  document.getElementById('wDesc').textContent = desc;
  document.getElementById('wIcon').textContent = icon;
  document.getElementById('wHumidity').textContent = humidity + '%';
  document.getElementById('wWind').textContent = wind + ' km/h';
  document.getElementById('wUV').textContent = uv;

  // Reverse geocode (approximate)
  document.getElementById('wLocation').textContent = `${lat.toFixed(1)}┬░N, ${lon.toFixed(1)}┬░E`;
  
  renderFarmingAdvice(temp, code);
  document.getElementById('weatherDisplay').style.display = 'block';
  document.getElementById('weather-btn-text').textContent = 'ЁЯФД Refresh / рдЕрдкрдбреЗрдЯ рдХрд░реЗрдВ';
}

function showMockWeather(lat, lon) {
  document.getElementById('wTemp').textContent = '26┬░C';
  document.getElementById('wDesc').textContent = 'рдЖрдВрд╢рд┐рдХ рдмрд╛рджрд▓ / Partly Cloudy';
  document.getElementById('wIcon').textContent = 'тЫЕ';
  document.getElementById('wHumidity').textContent = '62%';
  document.getElementById('wWind').textContent = '10 km/h';
  document.getElementById('wUV').textContent = '5';
  document.getElementById('wLocation').textContent = 'Lucknow, Uttar Pradesh';
  renderFarmingAdvice(26, 2);
  document.getElementById('weatherDisplay').style.display = 'block';
  document.getElementById('weather-btn-text').textContent = 'ЁЯФД Refresh / рдЕрдкрдбреЗрдЯ рдХрд░реЗрдВ';
}

function renderFarmingAdvice(temp, code) {
  let advices = [...weatherAdviceData];
  if(temp > 32) advices.unshift({ icon: 'ЁЯМбя╕П', text: { hi: 'рддрд╛рдкрдорд╛рди рдЕрдзрд┐рдХ рд╣реИ тАФ рджреЛрдкрд╣рд░ рдореЗрдВ рдХрд╛рдо рди рдХрд░реЗрдВ, рд╕рд┐рдВрдЪрд╛рдИ рдмрдврд╝рд╛рдПрдВ', en: 'High temp тАФ avoid afternoon work, increase irrigation' } });
  if(code >= 60) advices.unshift({ icon: 'ЁЯМзя╕П', text: { hi: 'рдмрд╛рд░рд┐рд╢ рд╣реЛ рд░рд╣реА рд╣реИ тАФ рдХреАрдЯрдирд╛рд╢рдХ рдЫрд┐рдбрд╝рдХрд╛рд╡ рдмрдВрдж рд░рдЦреЗрдВ', en: 'Raining тАФ stop pesticide spraying' } });
  
  document.getElementById('farmingAdvice').innerHTML = advices.slice(0,4).map(a =>
    `<div class="advice-item">${a.icon} ${a.text[currentLang] || a.text.hi}</div>`
  ).join('');
}

// ========================
// TOAST
// ========================
function showToast(msg) {
  const t = document.getElementById('toast');
  t.textContent = msg;
  t.classList.add('show');
  setTimeout(() => t.classList.remove('show'), 2200);
}
</script>
</body>
</html>
